# –¢–µ—Å—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã (`index.php?method=creategame`). –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä–Ω—É—é (PHP), —Ç–∞–∫ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é (JavaScript) —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ unit/                    # –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ CreateGameTest.php   # –¢–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã
‚îú‚îÄ‚îÄ integration/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ CreateGameIntegrationTest.php # –¢–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îú‚îÄ‚îÄ js/                      # JavaScript —Ç–µ—Å—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ creategame.test.html # QUnit —Ç–µ—Å—Ç—ã –¥–ª—è UI
‚îú‚îÄ‚îÄ results/                 # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ coverage-html/           # HTML –æ—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îú‚îÄ‚îÄ TestBase.php            # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ bootstrap.php           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ phpunit.xml             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PHPUnit
‚îú‚îÄ‚îÄ run_tests.php           # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ run_tests.bat           # Batch —Ñ–∞–π–ª –¥–ª—è Windows
‚îî‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫)
1. –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ `run_tests.bat`
2. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (Windows)
```batch
# –í—Å–µ PHP —Ç–µ—Å—Ç—ã
run_tests.bat

# –° JavaScript —Ç–µ—Å—Ç–∞–º–∏
run_tests.bat --with-js

# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
run_tests.bat --unit-only --verbose

# –° –æ—Ç—á–µ—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
run_tests.bat --coverage
```

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (Linux/Mac)
```bash
# –í—Å–µ PHP —Ç–µ—Å—Ç—ã
php run_tests.php

# –° JavaScript —Ç–µ—Å—Ç–∞–º–∏
php run_tests.php --with-js

# –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã
php run_tests.php --integration-only

# –° –æ—Ç—á–µ—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è
php run_tests.php --coverage
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PHPUnit

#### –ú–µ—Ç–æ–¥ 1: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π PHP —Å–∫—Ä–∏–ø—Ç —Å –≤—ã–±–æ—Ä–æ–º –º–µ—Ç–æ–¥–æ–≤
php tests/install_phpunit.php
```

#### –ú–µ—Ç–æ–¥ 2: –ß–µ—Ä–µ–∑ batch —Ñ–∞–π–ª (Windows)
```batch
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Composer
run_tests.bat install-phpunit

# –ó–∞–≥—Ä—É–∑–∫–∞ PHAR —Ñ–∞–π–ª–∞
run_tests.bat download-phpunit

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
run_tests.bat check-deps
```

#### –ú–µ—Ç–æ–¥ 3: PowerShell —Å–∫—Ä–∏–ø—Ç (Windows)
```powershell
# –ó–∞–≥—Ä—É–∑–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
.\download_phpunit.ps1

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
.\download_phpunit.ps1 -Version 10.5.0 -Verify

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
.\download_phpunit.ps1 -Help
```

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Composer
```bash
# –°–æ–∑–¥–∞—Ç—å composer.json (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
composer init --dev

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PHPUnit
composer require --dev phpunit/phpunit ^9.0

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
vendor/bin/phpunit --configuration tests/phpunit.xml
```

### –°–∫–∞—á–∞—Ç—å PHPUnit.phar –≤—Ä—É—á–Ω—É—é

#### Linux/Mac
```bash
wget https://phar.phpunit.de/phpunit-9.phar -O tests/phpunit.phar
chmod +x tests/phpunit.phar
```

#### Windows (PowerShell)
```powershell
Invoke-WebRequest -Uri "https://phar.phpunit.de/phpunit-9.phar" -OutFile "tests\phpunit.phar"
```

#### –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://phar.phpunit.de/phpunit-9.phar
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ `tests/phpunit.phar`

## –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

### 1. –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (Unit Tests)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `tests/unit/CreateGameTest.php`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç:**
- –í–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (XSS, SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏)
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–≥—Ä—ã —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Å—Ç–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–≥—Ä—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç—ã
- ‚úÖ –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ HTML/JavaScript –∏–Ω—ä–µ–∫—Ü–∏–∏

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (Integration Tests)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `tests/integration/CreateGameIntegrationTest.php`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç:**
- –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–∞—Ä—Ç—ã –∏ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ—Ä—è–¥–∫–∞ —Ö–æ–¥–æ–≤
- ‚úÖ –ù–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–≥—Ä–æ–∫–æ–≤

### 3. JavaScript —Ç–µ—Å—Ç—ã (Frontend Tests)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `tests/js/creategame.test.html`

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é —Ü–≤–µ—Ç–æ–≤
- UI –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**–ó–∞–ø—É—Å–∫ JavaScript —Ç–µ—Å—Ç–æ–≤:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `tests/js/creategame.test.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--with-js` —Ñ–ª–∞–≥ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∑–∞–ø—É—Å–∫–∞

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ (–¥–æ –º–∞–∫—Å–∏–º—É–º–∞ 16)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ (–º–∏–Ω–∏–º—É–º 2)
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ placeholder'–æ–≤

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--unit-only` | –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ |
| `--integration-only` | –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ |
| `--with-js` | –í–∫–ª—é—á–∏—Ç—å JavaScript —Ç–µ—Å—Ç—ã |
| `--coverage` | –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –∫–æ–¥–∞ |
| `--verbose` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ |
| `--stop-on-failure` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ |
| `--filter <pattern>` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—É |
| `--help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É |

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

### –û—Ç—á–µ—Ç—ã
- `results/junit.xml` - JUnit XML –æ—Ç—á–µ—Ç
- `results/testdox.html` - TestDox HTML –æ—Ç—á–µ—Ç  
- `results/testdox.txt` - TestDox —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç
- `coverage-html/index.html` - HTML –æ—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞

### –õ–æ–≥–∏
- `results/php_errors.log` - –õ–æ–≥ PHP –æ—à–∏–±–æ–∫
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

### –ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
```
üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä
============================================================
–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞: 2024-01-15 14:30:00
PHP –≤–µ—Ä—Å–∏—è: 8.1.0
–ü—Ä–æ–µ–∫—Ç: I:\pr1\html
–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤: Unit, Integration

üß™ –ó–∞–ø—É—Å–∫ PHP —Ç–µ—Å—Ç–æ–≤...
==================================================
PHPUnit 9.6.3 by Sebastian Bergmann and contributors.

Runtime:       PHP 8.1.0
Configuration: I:\pr1\html\tests\phpunit.xml

..........................                          26 / 26 (100%)

Time: 00:02.445, Memory: 10.00 MB

OK (26 tests, 89 assertions)

‚úÖ PHP —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ (2.45s)

üìä –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢
============================================================
PHP           : ‚úÖ –ü–†–û–ô–î–ï–ù (2.45s)
–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 2.48s
–í—Å–µ–≥–æ –Ω–∞–±–æ—Ä–æ–≤ —Ç–µ—Å—Ç–æ–≤: 1
–ü—Ä–æ–π–¥–µ–Ω–æ: 1
–ü—Ä–æ–≤–∞–ª–µ–Ω–æ: 0

üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
```

## –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
1. **–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–≥—Ä—ã** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, 2 –∏–≥—Ä–æ–∫–∞
2. **–ú–∞–∫—Å–∏–º—É–º –∏–≥—Ä–æ–∫–æ–≤** - 16 –∏–≥—Ä–æ–∫–æ–≤ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏
3. **–†–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∫–∞—Ä—Ç** - –æ—Ç 50x50 –¥–æ 500x500
4. **–í—Å–µ —Ç–∏–ø—ã —Ö–æ–¥–æ–≤** - concurrently, byturn, onewindow

### –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã  
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π** - –ø—É—Å—Ç—ã–µ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - XSS, SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏
3. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
4. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤

### UI —Ç–µ—Å—Ç—ã
1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
3. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤ –∏–≥—Ä–æ–∫–æ–≤

## –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
```bash
# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
php run_tests.php --filter testCreateBasicGame

# –ö–ª–∞—Å—Å —Ç–µ—Å—Ç–æ–≤
php run_tests.php --filter CreateGameTest

# –° –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
php run_tests.php --stop-on-failure --verbose
```

### –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `results/php_errors.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å `--verbose` —Ñ–ª–∞–≥–æ–º
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--stop-on-failure` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**PHPUnit –Ω–µ –Ω–∞–π–¥–µ–Ω:**
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
php tests/install_phpunit.php

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ Composer
composer require --dev phpunit/phpunit

# –°–∫–∞—á–∞—Ç—å PHAR (Windows)
run_tests.bat download-phpunit
# –∏–ª–∏ PowerShell:
.\download_phpunit.ps1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
run_tests.bat check-deps
```

**–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –û—Ç–∫–ª—é—á–∏—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –≤—Ä–µ–º–µ–Ω–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –µ—Å–ª–∏ –µ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏

**–û—à–∏–±–∫–∏ PowerShell:**
```powershell
# –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é
powershell -ExecutionPolicy Bypass -File .\download_phpunit.ps1
```

**–û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç SQLite –≤ –ø–∞–º—è—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ PDO –∏ SQLite —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PHP

**JavaScript —Ç–µ—Å—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ jQuery –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç–∞–º

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

### GitHub Actions
```yaml
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Setup PHP
      uses: shivammathur/setup-php@v2
      with:
        php-version: '8.1'
        extensions: pdo, sqlite
    - name: Run tests
      run: php tests/run_tests.php --coverage
```

### Jenkins
```groovy
pipeline {
    agent any
    stages {
        stage('Test') {
            steps {
                sh 'php tests/run_tests.php --coverage'
                publishHTML([
                    allowMissing: false,
                    alwaysLinkToLastBuild: true,
                    keepAll: true,
                    reportDir: 'tests/coverage-html',
                    reportFiles: 'index.html',
                    reportName: 'Coverage Report'
                ])
            }
        }
    }
}
```

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
1. –°–æ–∑–¥–∞–π—Ç–µ –º–µ—Ç–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –∫–ª–∞—Å—Å–µ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å `test` –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ assertions –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```php
public function testNewFeature(): void
{
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    $data = ['key' => 'value'];
    
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞
    $result = someFunction($data);
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤  
    $this->assertTrue($result);
    $this->assertEquals('expected', $result['key']);
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
```php
<?php
require_once __DIR__ . '/../TestBase.php';

class NewFeatureTest extends TestBase 
{
    protected function setUp(): void
    {
        parent::setUp();
        // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
    }
    
    public function testSomething(): void
    {
        // –í–∞—à —Ç–µ—Å—Ç
    }
}
```

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **–¶–µ–ª—å:** > 80% –ø–æ–∫—Ä—ã—Ç–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- **–û—Ç—á–µ—Ç:** `coverage-html/index.html`
- **–ö–æ–º–∞–Ω–¥–∞:** `--coverage` —Ñ–ª–∞–≥

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–õ–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏:** < 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã
- **–õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏:** < 256MB –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç:** PSR-12 –¥–ª—è PHP
- **–õ–∏–Ω—Ç–µ—Ä:** ESLint –¥–ª—è JavaScript  
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:** PHPStan (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

## –§–∞–π–ª—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –°–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- `install_phpunit.php` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ PHPUnit
- `download_phpunit.ps1` - PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- `run_tests.bat` - Batch —Ñ–∞–π–ª —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- `bootstrap.php` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ PHPUnit

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

#### –ö–æ–º–∞–Ω–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
run_tests.bat check-deps
php tests/install_phpunit.php

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PHPUnit
php tests/phpunit.phar --version
vendor/bin/phpunit --version
```

#### –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –û—á–∏—Å—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
run_tests.bat clean

# –£–¥–∞–ª–µ–Ω–∏–µ PHPUnit
del tests\phpunit.phar
rmdir /s vendor

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
php tests/install_phpunit.php
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–≥—Ä—ã
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/` –ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **Issues:** GitHub Issues –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–∏—Å—Ç–µ–º–∞

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤

### –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ë–î

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º:

```php
// –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è)
TEST_DB_HOST     = 'localhost'
TEST_DB_USER     = 'test_user' 
TEST_DB_PASS     = 'test_pass'
TEST_DB_NAME     = 'test_db'
TEST_DB_PORT     = 3306

// –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç—Å—è)
DB_HOST          = –≤–∞—à–∏_–Ω–∞—Å—Ç—Ä–æ–π–∫–∏
DB_USER          = –≤–∞—à–∏_–Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// –∏ —Ç.–¥.
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î

#### –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export TEST_DB_HOST=localhost
export TEST_DB_USER=test_user
export TEST_DB_PASS=test_password
export TEST_DB_NAME=test_database
export TEST_DB_PORT=3306
```

#### –ß–µ—Ä–µ–∑ phpunit.xml
```xml
<php>
    <const name="TEST_DB_HOST" value="localhost"/>
    <const name="TEST_DB_USER" value="test_user"/>
    <const name="TEST_DB_PASS" value="test_pass"/>
    <const name="TEST_DB_NAME" value="test_db"/>
    <const name="TEST_DB_PORT" value="3306"/>
</php>
```

#### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç SQLite –≤ –ø–∞–º—è—Ç–∏
- –ù–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–µ–π –ë–î
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ –º–æ–∫–∏

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–∫–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤:

```php
TestMyDB    - –º–æ–∫ –∫–ª–∞—Å—Å–∞ MyDB —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
TestGame    - –º–æ–∫ –∫–ª–∞—Å—Å–∞ Game –¥–ª—è —Ç–µ—Å—Ç–æ–≤
TestUser    - –º–æ–∫ –∫–ª–∞—Å—Å–∞ User –¥–ª—è —Ç–µ—Å—Ç–æ–≤
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```php
// –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
initializeTestEnvironment();
```

#### –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```php
setupTestDatabase();  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–∫–æ–≤ –ë–î
setupTestClasses();   // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–∫–æ–≤ –∫–ª–∞—Å—Å–æ–≤
TestMyDB::resetTestDatabase(); // –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [PHPUnit –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://phpunit.de/documentation.html)
- [QUnit –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://qunitjs.com/)
- [Composer –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://getcomposer.org/doc/)
- [PowerShell –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.microsoft.com/powershell/)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ PHP](https://www.php.net/manual/en/features.testing.php)

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2024-01-15*  
*–í–µ—Ä—Å–∏—è —Ç–µ—Å—Ç–æ–≤: 1.0.0*